# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Ñ‡∏£‡∏ö‡∏Ñ‡∏£‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Muay Thai Next.js + Supabase

## üìã ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏•‡∏∞ deploy ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

## üöÄ ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÉ‡∏´‡∏°‡πà

1. **Clone ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå:**
   ```bash
   git clone https://github.com/your-username/muaythai-next-postgres.git
   cd muaythai-next-postgres
   ```

2. **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies:**
   ```bash
   npm install
   ```

3. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ environment variables:**
   ```bash
   cp .env.example .env.local
   # ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô .env.local ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
   ```

4. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°:**
   ```bash
   ./scripts/development-setup.sh
   ```

5. **‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå:**
   ```bash
   npm run dev
   ```

## üìö ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô

### üóÑÔ∏è Supabase Setup
- **Local Development**: ‡πÉ‡∏ä‡πâ Supabase CLI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô
- **Production**: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Supabase project ‡∏ö‡∏ô cloud

#### Local Supabase Setup
```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Supabase CLI
npm install -g supabase

# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Supabase local
supabase start

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
supabase status
```

#### Production Supabase Setup
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á project ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà [supabase.com](https://supabase.com)
2. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Project URL ‡πÅ‡∏•‡∏∞ API Keys
3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô `.env.local`:
   ```env
   NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
   SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
   ```

### üí≥ Stripe Setup
‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô

#### Development
```env
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
```

#### Production
```env
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
```

### üìß Email Setup (Resend)
‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•

```env
RESEND_API_KEY=re_...
FROM_EMAIL=noreply@yourdomain.com
```

### üîê Authentication Setup
‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö authentication

```env
NEXTAUTH_SECRET=your-secret-key
NEXTAUTH_URL=http://localhost:3000  # ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö development
```

## üóÑÔ∏è Database Setup

### 1. Apply Migrations
```bash
# Local development
supabase db reset

# Production
supabase link --project-ref YOUR_PROJECT_REF
supabase db push
```

### 2. Configure Storage
```sql
-- ‡∏£‡∏±‡∏ô‡πÉ‡∏ô Supabase SQL Editor
\i scripts/storage-configuration.sql
```

### 3. Setup Admin Functions
```sql
-- ‡∏£‡∏±‡∏ô‡πÉ‡∏ô Supabase SQL Editor
\i scripts/admin-management.sql
```

### 4. Create Admin User
```sql
-- ‡∏£‡∏±‡∏ô‡πÉ‡∏ô Supabase SQL Editor
SELECT public.promote_to_admin('your-admin@email.com');
```

### 5. Verify Setup
```bash
node scripts/database-utilities.js all
```

## üåç Environment Variables

### Required Variables

| Variable | Description | Example |
|----------|-------------|---------|
| `NEXT_PUBLIC_SUPABASE_URL` | Supabase project URL | `https://xxx.supabase.co` |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Supabase anon key | `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...` |
| `SUPABASE_SERVICE_ROLE_KEY` | Supabase service role key | `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...` |

### Optional Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY` | Stripe publishable key | - |
| `STRIPE_SECRET_KEY` | Stripe secret key | - |
| `RESEND_API_KEY` | Resend API key | - |
| `FROM_EMAIL` | From email address | - |

### Environment Files

```
.env.local          # Local development (gitignored)
.env.example        # Template file (committed)
.env.production     # Production variables (gitignored)
```

## üöÄ Deployment Setup

### Vercel Deployment

1. **Connect Repository:**
   - ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ GitHub repository ‡∏Å‡∏±‡∏ö Vercel

2. **Set Environment Variables:**
   - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ environment variables ‡πÉ‡∏ô Vercel dashboard

3. **Deploy:**
   ```bash
   # Automatic deployment on push to main branch
   git push origin main
   ```

### Manual Deployment

1. **Build Project:**
   ```bash
   npm run build
   ```

2. **Start Production Server:**
   ```bash
   npm start
   ```

## üß™ Testing Setup

### E2E Testing (Playwright)

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Playwright
npx playwright install

# ‡∏£‡∏±‡∏ô‡πÄ‡∏ó‡∏™
npm run test:e2e

# ‡∏£‡∏±‡∏ô‡πÄ‡∏ó‡∏™‡∏û‡∏£‡πâ‡∏≠‡∏° UI
npm run test:e2e:ui
```

### Script Validation Tests

```bash
# ‡∏£‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö scripts
node tests/scripts/run-all-tests.js

# ‡∏£‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô
node tests/scripts/admin-management.test.js
```

## üîß Development Tools

### Recommended VS Code Extensions

```json
{
  "recommendations": [
    "bradlc.vscode-tailwindcss",
    "esbenp.prettier-vscode",
    "ms-playwright.playwright",
    "supabase.supabase-vscode"
  ]
}
```

### Git Hooks

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á pre-commit hooks
npm install --save-dev husky lint-staged

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ pre-commit
npx husky add .husky/pre-commit "npm run lint"
```

## üö® Troubleshooting

### Common Issues

1. **Supabase Connection Failed**
   ```bash
   # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
   supabase status
   
   # ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó
   supabase stop
   supabase start
   ```

2. **Environment Variables Not Found**
   ```bash
   # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå .env.local
   cat .env.local
   
   # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î
   echo $NEXT_PUBLIC_SUPABASE_URL
   ```

3. **Database Migration Issues**
   ```bash
   # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ migration
   supabase migration list
   
   # ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï database (local only)
   supabase db reset
   ```

4. **Build Errors**
   ```bash
   # ‡∏•‡πâ‡∏≤‡∏á cache
   rm -rf .next
   npm run build
   ```

### Debug Commands

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°
./scripts/development-setup.sh --check-only

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
node scripts/database-utilities.js check

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö TypeScript
npx tsc --noEmit

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ESLint
npm run lint
```

## üìû Support

‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á:

1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö [Troubleshooting](#troubleshooting) ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
2. ‡∏î‡∏π [Database Setup Guide](../database/README.md)
3. ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö: `./scripts/development-setup.sh --check-only`
4. ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error

## üîÑ Next Steps

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß:

1. ‡∏®‡∏∂‡∏Å‡∏©‡∏≤ [Database Scripts](../database/README.md)
2. ‡∏≠‡πà‡∏≤‡∏ô [Architecture Overview](../architecture/README.md)
3. ‡∏î‡∏π [Feature Guides](../features/README.md)
4. ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à [Contributing Guidelines](../contributing/README.md)